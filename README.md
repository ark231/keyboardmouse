# keyboardmouse
mousekey
## 使い方
### ビルド

```
$ cd /path/to/this/repo
$ make build
```

その後、どこかパスの通っているところで
```
|
|--kbdmouse
|--search_device.sh
|--activate.sh
|--notification.sh
|--pictures
   |--mouse_LEFT.png
   |--mouse_MIDDLE.png
   |--mouse_RIGHT.png
```

このようなディレクトリ構成にする。
### 起動
```
$ /path/to/file/activate.sh
```
ルート権限が必要な処理があるので、認証が入ってからマウスキーが有効になります。

### キー配置
基本的なキー配置は他のマウスキーと同じ  
[wikipedia](https://ja.wikipedia.org/wiki/%E3%83%9E%E3%82%A6%E3%82%B9%E3%82%AD%E3%83%BC)
### ホットキー
他のには（多分）ない、独自のものなので、他ので押してもこの動作はしないと思われる  
基本的にはNumLockか***テンキーの***Enter+テンキーのどれか  
|ホットキー|機能|
|:-----|:--------------------------------|
|NL + /|マウスカーソルのX軸方向の速度を遅くする|
|NL + \*|マウスカーソルのX軸方向の速度を速くする|
|NL + -|マウスカーソルのY軸方向の速度を遅くする|
|NL + +|マウスカーソルのY軸方向の速度を速くする|
|NL + .|速さや選択されているボタン等を表示する|
|En + 8|マウスホイールを下から上（手前から奥）に回す|
|En + 2|マウスホイールを上から下（奥から手前）に回す|
|En + 4|マウスホイールを左に傾ける|
|En + 6|マウスホイールを右に傾ける|
|Shift + Alt + NL|このプログラムの終了（マウスキーも無効になる）|

X方向は数直線のイメージ、Y方向は+-の文字のイメージか、モニターの座標軸（Yは下が正）をイメージすると覚えやすいかも  
Ctrlで加速、とかには対応して***いません***  
起動はこちらでは何もできないので、ショートカット等で対応してください。
### 設定ファイル
デフォルトでは$HOME/.config/kbdmouse/configから設定を読み込みます。変えたい場合はactivate.shの`CONFIG_FILE="$HOME/.config/kbdmouse/config"`の値を変更  
書式は`キー=値`で、使用されるキーの一覧は以下の通り
|キー|値の意味|
---|:---
|X_MOV|マウスカーソルのX方向の移動速度の初期値。何も設定しないと5|
|Y_MOV|マウスカーソルのY方向の移動速度の初期値。何も設定しないと5|
|CONFIRM|[true/false] 起動時に確認するか。何も設定しないと確認される|
|NOTIFICATION|[zero/error/full] メッセージを通知するか。何も設定しないとすべて通知される|

## 備考

- 使っているデスクトップ環境の公式のものがあったらそっちを使ったほうがいいかもしれません。  
- 起動すると、テンキーのキーは全てテンキーとしては働かなくなります。
- 実装の都合上、速度を早くするとマウスカーソルが飛び飛びに移動します。  
- これまた実装の都合上、linux上でしか動きません。  
- マウスキー機能本体はlibevdevに依存していて、起動スクリプトではzenityとnotify-send、polkitに依存しています。
